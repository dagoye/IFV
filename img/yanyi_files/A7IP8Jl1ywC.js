if (self.CavalryLogger) { CavalryLogger.start_js(["PwVMy"]); }

__d("P2PFriendsListStore",["EventEmitter","P2PActionConstants","P2PAPI","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[],i="",j=25;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),b("P2PDispatcher").register(this.onEventDispatched.bind(this))}a.prototype.onEventDispatched=function(a){var c=a.data;a=a.type;switch(a){case b("P2PActionConstants").FRIENDS_LIST_UPDATED:this.handleFriendsListUpdated(c);this.emit("change");break}};a.prototype.handleFriendsListUpdated=function(a){(!i||i===a.query)&&(h=a.friends)};a.prototype.searchFriends=function(a){i=a,this.fetchFriends(a)};a.prototype.fetchFriends=function(a){b("P2PAPI").getFriendsList(j,a)};a.prototype.getFriends=function(){return h};e.exports=new a()}),null);
__d("P2PFriendPicker.react",["ix","cx","fbt","glyph","Image.react","Layout.react","debounce","MercuryIDs","P2PActions","P2PFriendsListStore","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PText.react","React","ScrollableArea.react","XUIButton.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("Layout.react").FillColumn,m=b("Layout.react").Column;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={friends:b("P2PFriendsListStore").getFriends(),showLoader:!0},this.log=function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},c))}.bind(this),this.loggedSearch=null,this.friendPickerStoreSub=null,this.updateFriendsList=function(){this.setState({friends:b("P2PFriendsListStore").getFriends(),showLoader:!1})}.bind(this),this.onFriendSelect=function(a){this.log(b("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SELECT,{object_id:a.id}),b("P2PActions").chatSendViewOpened({amount:this.props.amount,referrer:this.props.referrer,sendMoneyNUXDismissed:this.props.sendMoneyNUXDismissed,threadID:b("MercuryIDs").getThreadIDFromUserID(a.id)}),this.props.onFriendSelected&&this.props.onFriendSelected()}.bind(this),this.getQuery=function(){return this.refs.input_ref&&this.refs.input_ref.refs.textInput.getValue()}.bind(this),this.onSearchInputChange=function(){this.loggedSearch||(this.log(b("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SEARCH),this.loggedSearch=!0);var a=this.getQuery();a||this.setState({showLoader:!0});b("P2PFriendsListStore").searchFriends(a)}.bind(this),this.renderTagLineRow=function(){return this.state.showLoader?null:b("React").createElement("li",{className:"_1px5"},b("React").createElement("div",{className:"_1px6"},this.props.subTitle))}.bind(this),this.renderfriendRow=function(a){var c;this.props.buttonLabel&&(c=b("React").createElement(b("XUIButton.react"),{label:this.props.buttonLabel,size:"large"}));return b("React").createElement("li",{className:"_1px7",key:a.id,onClick:this.onFriendSelect.bind(this,a)},b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,b("React").createElement("div",{className:"_1px8"},b("React").createElement(b("Image.react"),{className:"_1px9",height:50,src:a.image_src,width:50})),b("React").createElement("div",{className:"_1pxa"},b("React").createElement(b("P2PText.react"),{className:"_1pxb",type:"primary"},a.full_name))),b("React").createElement(m,{className:"_1pxc"},c)))}.bind(this),this.renderFriendList=function(){var a=this.getQuery();if(!this.state.showLoader&&this.state.friends.length===0)if(a&&a.length)return b("React").createElement("div",{className:"_1pxd"},i._("No results."));else return b("React").createElement("div",{className:"_1pxd"},i._("You do not have any friends who are able to receive money."));return b("React").createElement("div",{className:"_1pxe"},b("React").createElement(b("P2PLoadingMask.react"),{visible:this.state.showLoader}),b("React").createElement(b("ScrollableArea.react"),{height:this.props.height},b("React").createElement("ul",null,this.state.friends.map(this.renderfriendRow),this.renderTagLineRow())))}.bind(this),c}a.prototype.componentDidMount=function(){this.friendPickerStoreSub=b("P2PFriendsListStore").addListener("change",this.updateFriendsList),b("P2PFriendsListStore").searchFriends(),this.log(b("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SHOWN)};a.prototype.componentWillUnmount=function(){this.friendPickerStoreSub&&(this.friendPickerStoreSub.remove(),this.friendPickerStoreSub=null)};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_1pxf"},b("React").createElement("div",{className:"_1pxg"},b("React").createElement(b("XUITextInput.react"),{className:"_1pxn",height:"tall",onChange:b("debounce")(this.onSearchInputChange,150),placeholder:i._("Search friends"),ref:"input_ref"}),b("React").createElement(b("Image.react"),{className:"_1pxo",src:g("101450")}))),this.renderFriendList())};a.propTypes={amount:c.string,buttonLabel:c.node,eventFlow:c.string.isRequired,height:c.number,onFriendSelected:c.func,referrer:c.string,sendMoneyNUXDismissed:c.bool,subTitle:c.node};a.defaultProps={amount:"",buttonLabel:i._("Pay Friend"),height:350,title:i._("Select Friend"),subTitle:i._("These are your friends who are able to receive money.")};e.exports=a}),null);
__d("P2PSendMoneyNUXListItems.react",["fbt","ix","Image.react","P2PListRow.react","P2PText.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.renderRow=function(a,c){return b("React").createElement(b("P2PListRow.react"),{offset:this.props.size},b("React").createElement(b("Image.react"),a),b("React").createElement(b("P2PText.react"),{type:"primary"},c))}.bind(this),c}a.prototype.render=function(){var a=this.props.size;return b("React").createElement("div",null,this.renderRow(a==="small"?{height:18,src:h("94401"),width:18}:{height:36,src:h("94400"),width:36},g._("It's FREE to send and receive money.")),this.renderRow(a==="small"?{height:27,src:h("94405"),width:18}:{height:54,src:h("94404"),width:36},g._("Industry-leading security \u2014 password protection, anti-fraud team and more.")),this.renderRow(a==="small"?{height:13,src:h("94403"),width:18}:{height:26,src:h("94402"),width:36},g._("Send money from your debit card to theirs.")))};a.propTypes={offset:c.oneOf(["small","medium"])};a.defaultProps={size:"small"};e.exports=a}),null);
__d("P2PSendMoneyNUXTitleText.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").createElement("div",null,g._("Send Money to Anyone"))}e.exports=a}),null);
__d("P2PSendMoneyNUXDialog.react",["cx","MessengerEnvironment","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PEncryptedText.react","P2PLogger","P2PNUXNextButton.react","P2PPaymentLoggerEvent","P2PSendMoneyNUXListItems.react","P2PSendMoneyNUXTitleText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(){this.$1(b("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK),this.props.onNextClick()}.bind(this),this.$1=function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},this.props.loggingData,c))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1(b("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_SHOWN)};a.prototype.render=function(){return b("React").createElement(b("P2PDialog.react"),{onToggle:this.props.onToggle,width:this.props.width},b("React").createElement(b("P2PDialogTitle.react"),null,b("React").createElement(b("P2PSendMoneyNUXTitleText.react"),null)),b("React").createElement(b("P2PDialogBody.react"),{className:"_1ou5"},b("React").createElement(b("P2PSendMoneyNUXListItems.react"),{size:"large"})),b("React").createElement(b("P2PDialogFooter.react"),{leftContent:b("React").createElement("div",{className:"_1ou6"},b("React").createElement(b("P2PEncryptedText.react"),null))},b("React").createElement(b("P2PNUXNextButton.react"),{onNextClick:this.$2})))};a.propTypes={eventFlow:c.string,onToggle:c.func.isRequired,onNextClick:c.func.isRequired,width:c.number};a.defaultProps={width:b("MessengerEnvironment").messengerui?400:350};e.exports=a}),null);
__d("P2PFriendPickerDialog.react",["cx","fbt","P2PActions","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PFriendPicker.react","P2PSendMoneyNUXDialog.react","P2PTransferStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("React").PropTypes;c=babelHelpers.inherits(j,b("React").Component);i=c&&c.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={sendMoneyNUXDismissed:!1},this.handleToggle=function(a){a||this.props.onClose()}.bind(this),this.handleNUXNextClick=function(){this.setState({sendMoneyNUXDismissed:!0})}.bind(this),b}j.prototype.render=function(){var a=445;return!this.state.sendMoneyNUXDismissed&&b("P2PTransferStore").shouldShowSenderNUX()?b("React").createElement(b("P2PSendMoneyNUXDialog.react"),{eventFlow:this.props.eventFlow,onToggle:this.handleToggle,onNextClick:this.handleNUXNextClick,width:a}):b("React").createElement(b("P2PDialog.react"),{onToggle:this.handleToggle,width:a},b("React").createElement(b("P2PDialogTitle.react"),null,b("React").createElement("div",{className:"_4ia-"},this.props.title)),b("React").createElement(b("P2PDialogBody.react"),{className:"_4ib0"},b("React").createElement(b("P2PFriendPicker.react"),{amount:this.props.amount,buttonLabel:this.props.buttonLabel,eventFlow:this.props.eventFlow,onFriendSelected:this.props.onClose,referrer:this.props.referrer,sendMoneyNUXDismissed:this.state.sendMoneyNUXDismissed,subTitle:this.props.subTitle})))};j.propTypes={amount:a.string,buttonLabel:a.node,eventFlow:a.string.isRequired,onClose:a.func.isRequired,referrer:a.string,subTitle:a.node,title:a.node};j.defaultProps={amount:"",title:h._("Select Friend"),subTitle:h._("These are your friends who are able to receive money.")};e.exports={module:j,render:function(a){b("P2PActions").showDialog(j,babelHelpers["extends"]({title:h._("Send Money to Friends")},a,{onClose:b("P2PActions").hideDialog}))}}}),null);
__d("P2PSendMoneyHelper",["fbt","MercuryIDs","P2PActions","P2PFriendPickerDialog.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("P2PFriendPickerDialog.react").module;a={bindProfileSendMoneyAction:function(a,c){a.subscribe("itemclick",function(a,d){d.item.getValue()==="send_money"&&b("P2PActions").chatSendViewOpened({referrer:"profile_action",threadID:b("MercuryIDs").getThreadIDFromUserID(c)})})},bindPeopleSearchResultSendMoneyAction:function(a,c){a.subscribe("itemclick",function(a,d){d.item.getValue()==="send_money"&&(b("P2PLogger").log(b("P2PPaymentLoggerEvent").ACTN_PEOPLE_SEARCH_SEND_MONEY_BUTTON_CLICKED,{www_event_referrer:"www_people_search_result",www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY,object_id:c}),b("P2PActions").chatSendViewOpened({referrer:"people_search_result",threadID:b("MercuryIDs").getThreadIDFromUserID(c)}))})},initPaymentsBluebarMenuItems:function(a){a.subscribe("itemclick",function(a,c){a=c.item.getValue();a==="send_money"?b("P2PActions").showDialog(h,{eventFlow:b("P2PPaymentLoggerEventFlow").UI_FLOW_SEND_MONEY_BLUEBAR,onClose:b("P2PActions").hideDialog,referrer:"bluebar",title:g._("Send Money to Friends")}):a==="payments_history"&&b("P2PLogger").log(b("P2PPaymentLoggerEvent").UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK,{www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_PAYMENTS_MENU_BLUEBAR})})}};e.exports=a}),null);